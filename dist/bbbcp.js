$('body').append('<div id="pw-control-panel" style="cursor:default;pointer-events:auto;padding:10px;width:360px;height:200px;position:absolute;right:10px;bottom:75px;background-color:#f8f8f8;z-index:9997;"><style>.pw-button {background-color: white;color: black;border: 2px solid #555555;transition-duration: 0.4s;}.pw-button:hover {background-color: #555555;color: white;}.pw-button-warning {background-color: white;color: black;border: 2px solid #e84848;transition-duration: 0.4s;}.pw-button-warning:hover {background-color: #e84848;color: white;}.not-expanded-tr {display: none;}</style><div style="width:100%;"><div style="float:left;width:10%;text-align:left;"><button class="mover" style="width:100%;cursor:move;" title="Move BigBlueButton Control Panel">&boxbox;</button></div><div style="float:left;width:80%;text-align:center;"><span style="cursor:pointer;line-height:30px;" title="Activate Dark Mode" onclick="activateDarkMode();">BigBlueButton Control Panel</span></div><div style="float:right;width:10%;text-align:right;"><button style="width:100%;cursor:pointer;" title="Close BigBlueButton Control Panel" onclick="$(\'#pw-wrapper\').remove();$(\'#pw-control-panel\').remove();">&times;</button></div></div><table style="margin:35px auto 10px;"><tr style="background-color:#fff;"><td><p style="margin:0;">Set Status / Clear Status</p><button title="Set Status away" onclick="setStatus(\'away\');"><i class="itemIcon--Z207zn1 icon-bbb-time"></i></button><span> </span><button title="Set Status raiseHand" onclick="setStatus(\'raiseHand\');"><i class="itemIcon--Z207zn1 icon-bbb-hand"></i></button><span> </span><button title="Set Status neutral" onclick="setStatus(\'neutral\');"><i class="itemIcon--Z207zn1 icon-bbb-undecided"></i></button><span> </span><button title="Set Status confused" onclick="setStatus(\'confused\');"><i class="itemIcon--Z207zn1 icon-bbb-confused"></i></button><span> </span><button title="Set Status sad" onclick="setStatus(\'sad\');"><i class="itemIcon--Z207zn1 icon-bbb-sad"></i></button><span> </span><button title="Set Status happy" onclick="setStatus(\'happy\');"><i class="itemIcon--Z207zn1 icon-bbb-happy"></i></button><span> </span><button title="Set Status applause" onclick="setStatus(\'applause\');"><i class="itemIcon--Z207zn1 icon-bbb-applause"></i></button><span> </span><button title="Set Status thumbsUp" onclick="setStatus(\'thumbsUp\');"><i class="itemIcon--Z207zn1 icon-bbb-thumbs_up"></i></button><span> </span><button title="Set Status thumbsDown" onclick="setStatus(\'thumbsDown\');"><i class="itemIcon--Z207zn1 icon-bbb-thumbs_down"></i></button><span> </span><button title="Clear Status" onclick="clearStatus();"><i class="itemIcon--Z207zn1 icon-bbb-clear_status"></i></button></td><td><p style="margin:0;">Status Timeout (<span id="status-timeout-span">30s</span>)</p><input style="width:150px;" type="range" min="0" max="60" value="10" id="status-timeout" oninput="changeStatusTimeout();" /></td></tr><tr style="background-color:#fff;"><td><p style="margin:0;">Toggle Presentator Webcam</p><button onclick="toggleWebcamOption();"><i style="width:14px;height:14px;" class="icon--1RgJF icon-bbb-network"></i></button></td><td><p style="margin:0;">Toggle BBBCP Size</p><button onclick="toggleBBBCPSize(\'expand\');">▼</button><span> </span><button onclick="toggleBBBCPSize(\'\');">▲</button></td></tr><tr class="not-expanded-tr" style="background-color:#fff;"><td colspan="2"><p style="margin-bottom:5px;">Quick emojis <small>(sent immediately to the chat!)</small></p><button onclick="sendMessageToChat(\'🙂\');">🙂</button><span> </span><button onclick="sendMessageToChat(\'😐\');">😐</button><span> </span><button onclick="sendMessageToChat(\'😕\');">😕</button><span> </span><button onclick="sendMessageToChat(\'🙁\');">🙁</button><span> </span><button onclick="sendMessageToChat(\'👏\');">👏</button><span> </span><button onclick="sendMessageToChat(\'👍\');">👍</button><span> </span><button onclick="sendMessageToChat(\'👎\');">👎</button><span> </span><button onclick="sendMessageToChat(\'✋\');">✋</button><span> </span><button onclick="sendMessageToChat(\'🍺\');">🍺</button></td></tr><tr class="not-expanded-tr" style="background-color:#fff;"><td colspan="2"><p style="margin-bottom:5px;">Quick messages <small>(sent immediately to the chat!)</small></p><button style="width:100%;" onclick="sendMessageToChat(\'Sie sind noch stumm geschaltet 😊\');">Sie sind noch stumm geschaltet 😊</button><br /><button style="width:100%;" onclick="sendMessageToChat(\'Ihr Mikrofon ist noch an 😊\');">Ihr Mikrofon ist noch an 😊</button></td></tr></table><span style="font-size:10px;">Programmed by <a target="_blank" href="https://www.piuswalter.de/">Pius Walter</a> (<a target="_blank" href="https://github.com/piuswalter/BigBlueButton-Control-Panel/">GitHub repo</a>)</span></div><div id="pw-wrapper" style="margin:0;padding:0;width:100vw;height:100vh;position:absolute;overflow:hidden;display:block;z-index:9998;left:0;top:0;pointer-events:none;"></div>');var wrapper = document.querySelector('#pw-wrapper'),controlPanel = document.querySelector('#pw-control-panel'),mover = document.querySelector('.mover'),x = 0,y = 0,mousedown = false;var timeoutID = null;var emojiID = 0;var statusTimeout = 30;mover.addEventListener('mousedown', function (e) {mousedown = true;x = controlPanel.offsetLeft - e.clientX;y = controlPanel.offsetTop - e.clientY;$('.move-index').css('z-index', '9996');$('#pw-wrapper').css('pointer-events','auto');}, true);wrapper.addEventListener('mouseup', function (e) {mousedown = false;$('.move-index').css('z-index', '9999');$('#pw-wrapper').css('pointer-events','none');}, true);wrapper.addEventListener('mousemove', function (e) {if (mousedown) {controlPanel.style.left = e.clientX + x + 'px';controlPanel.style.top = e.clientY + y + 'px';}}, true);function setStatus(status) {if (statusTimeout > 0) {timeoutID = setTimeout(function() {clearStatus();}, statusTimeout * 1000);}$('.userItemContents--C2UQJ').click();$('li[data-test=setstatus]').click();$('li[data-test=' + status + ']').click();}function clearStatus() {if (timeoutID !== null) {clearTimeout(timeoutID);timeoutID = null;}$('li[data-test=clearStatus]').click();}function changeStatusTimeout() {if (timeoutID !== null) {clearTimeout(timeoutID);timeoutID = null;}let timeoutInterval = $('#status-timeout').val();statusTimeout = parseInt(timeoutInterval);if (statusTimeout > 0) {$('#status-timeout-span').text(timeoutInterval + 's');} else {$('#status-timeout-span').text('deact.');}}function sendMessageToChat(message) {/* @tjarbo here is your 🍺! */const triggerReact = new Event('input', { bubbles: true});const bbbInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype, "value").set;const bbbChatInput = document.getElementById('message-input');const bbbChatButton = document.querySelector('[aria-label="Nachricht senden"]');bbbInputValueSetter.call(bbbChatInput, message);bbbChatInput.dispatchEvent(triggerReact);bbbChatButton.click();}async function toggleWebcamOption() {var delay = ms => new Promise(res => setTimeout(res, ms));document.querySelector('[aria-label="Verbindungsstatus der Teilnehmer anzeigen"]').click();await delay(100);document.querySelector('[aria-label="Verbindungsstatus"] div div').querySelectorAll('div')[10].click();await delay(100);document.querySelector('[aria-label="Schließen Verbindungsstatus"]').click();}function toggleBBBCPSize(option) {if (option === 'expand') {$('#pw-control-panel').height('340px');$('.not-expanded-tr').addClass('expanded-tr');$('.expanded-tr').removeClass('not-expanded-tr');} else {$('#pw-control-panel').height('180px');$('.expanded-tr').addClass('not-expanded-tr');$('.not-expanded-tr').removeClass('expanded-tr');}}function activateDarkMode() {$('#pw-control-panel').css('color', 'white');$('#pw-control-panel').css('background-color', '#0f0f0f');$('#pw-control-panel table tbody').css('border', '1px solid #262626');$('#pw-control-panel table tr').css('color', 'white');$('#pw-control-panel table tr').css('background-color', '#262626');}